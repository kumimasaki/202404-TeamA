<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>product_list</title>
    <link rel="stylesheet" th:href="@{/css/user/product.css}">
</head>

<body>
	<header>
		<nav class="nav-list">
	    	<div class="left-items">
	        	<li><img th:src="@{/img/IT_logo.png}" alt=""></li>
	            <li><p class="site-name">ITコース販売サイト</p></li>
	         </div>
	         <div class="right-items">
	            <li th:text="${userName}"></li>
	            <li><a th:href="@{/user/product/list}"><i class="fa-solid fa-shop"></i>講座一覧</a></li>
	            <li><a th:href="@{/user/cart}"><i class="fa-solid fa-cart-shopping"></i>カート一覧</a></li>
	            <li class="user-menu">
	            <i class="fa-solid fa-user-tie"></i>マイページ
	            	<ul class="dropdown">
	                	<li><a th:href="@{/user/logout}"><i class="fa-solid fa-right-from-bracket"></i>ログアウト</a></li>
	                </ul>
	            </li>
	         </div>
	    </nav>
	</header>
    <main>
        <div class="title">
            <h2>講座一覧</h2>
        </div>
		<p class="empty-message" th:if="${empty}">ただ今商品はございません</p>
		<p class="error-message" th:if="${message}">既に気に入り一覧に追加されています</p> 
		<div th:if="${errorMessage}">
		        <p class="empty-message" th:text="${error}" ></p>
		    </div>
        <div class="course-list">
            <form th:each="product:${productList}" method="post" id="form-addToCart" th:action="@{?}" meenctype="multipart/form-data" class="course-item">
                <img th:src="@{/course-img/{image}(image=${product.courseImage})}" alt="" class="list-course-img">
                <div>
                    <p th:text="${product.courseName}"></p>
                </div>
                <div>
                    <p th:text="'値段 : ' + ${product.courseFee} + '円'"></p>
                </div>
                <div class="list-btn-container">
					<input type="hidden" name="courseId" th:value="${product.courseId}" />
                    <button type="submit"  onClick="alert('カートに追加しました')" th:formaction="@{/add-to-cart/process}">カートに追加</button>
                    <button class="list-detail" type="button" th:onclick="|location.href='/user/product/detail/' + ${product.courseId}|">詳細</button>
					<button type="submit"  th:formaction="@{/add-favourite/process}">♡</button>
					</div>
            </form>
				
            <form action="#" method="post" enctype="multipart/form-data" class="course-item">
                <img src="img/me.png" alt="" class="list-course-img">
                <div>
                    <p>JavaScript初心者コース</p>
                </div>
                <div>
                    <p>値段 : 12000円</p>
                </div>
                <div class="list-btn-container">
                    <button>カートに追加</button>
                    <button class="list-detail">詳細</button>
                </div>
            </form>
            <form action="#" method="post" enctype="multipart/form-data" class="course-item">
                <img src="img/me.png" alt="" class="list-course-img">
                <div>
                    <p>CSS初心者コース</p>
                </div>
                <div>
                    <p>値段 : 12000円</p>
                </div>
                <div class="list-btn-container">
                    <button>カートに追加</button>
                    <button class="list-detail">詳細</button>
                </div>
            </form>
        </div>
    </main>
    <footer>
        <small>copyright&copy;EC-site@2024 Team A-All right reserved</small>
    </footer>
    <script src="https://kit.fontawesome.com/06d9b8b269.js" crossorigin="anonymous"></script>
    <script src="js/code.js"></script>
</body>
</html>